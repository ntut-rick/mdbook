<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">

<head>
    <!-- Book generated using mdBook -->
    <meta charset="UTF-8">
    <title>operating system - something</title>


    <!-- Custom HTML head -->
    
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#ffffff" />

    <link rel="icon" href="../../favicon.svg">
    <link rel="shortcut icon" href="../../favicon.png">
    <link rel="stylesheet" href="../../css/variables.css">
    <link rel="stylesheet" href="../../css/general.css">
    <link rel="stylesheet" href="../../css/chrome.css">
    <link rel="stylesheet" href="../../css/print.css" media="print">

    <!-- Fonts -->
    <link rel="stylesheet" href="../../FontAwesome/css/font-awesome.css">
    <link rel="stylesheet" href="../../fonts/fonts.css">

    <!-- Highlight.js Stylesheets -->
    <link rel="stylesheet" href="../../highlight.css">
    <link rel="stylesheet" href="../../tomorrow-night.css">
    <link rel="stylesheet" href="../../ayu-highlight.css">
    <link rel="stylesheet" href="../../monokai.css">

    <!-- Custom theme stylesheets -->
    <link rel="stylesheet" href="../../theme/pagetoc.css">

    <!-- google anagles-->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-E4ZX8LPY4F"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());
        gtag('config', 'G-E4ZX8LPY4F');
        //ga('send', 'pageview');
    </script>
</head>

<body>
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch (e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = null;
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch (e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item "><a href="../../index.html"><strong aria-hidden="true">1.</strong> about me</a></li><li class="chapter-item "><a href="../../math/index.html"><strong aria-hidden="true">2.</strong> math</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../math/probability/hw2.html"><strong aria-hidden="true">2.1.</strong> probability</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../math/probability/hw2.html"><strong aria-hidden="true">2.1.1.</strong> hw2</a></li><li class="chapter-item "><a href="../../math/probability/hw3.html"><strong aria-hidden="true">2.1.2.</strong> hw3</a></li><li class="chapter-item "><a href="../../math/probability/hw4.html"><strong aria-hidden="true">2.1.3.</strong> hw4</a></li><li class="chapter-item "><a href="../../math/probability/hw5.html"><strong aria-hidden="true">2.1.4.</strong> hw5</a></li><li class="chapter-item "><a href="../../math/probability/hw6.html"><strong aria-hidden="true">2.1.5.</strong> hw6</a></li><li class="chapter-item "><a href="../../math/probability/hw7.html"><strong aria-hidden="true">2.1.6.</strong> hw7</a></li><li class="chapter-item "><a href="../../math/probability/hw8.html"><strong aria-hidden="true">2.1.7.</strong> hw8</a></li><li class="chapter-item "><a href="../../math/probability/hw9.html"><strong aria-hidden="true">2.1.8.</strong> hw9</a></li></ol></li><li class="chapter-item "><a href="../../math/signals-and-systems/signals-and-systems.html"><strong aria-hidden="true">2.2.</strong> signals and systems</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../math/signals-and-systems/signals-and-systems.html"><strong aria-hidden="true">2.2.1.</strong> signals processing</a></li><li class="chapter-item "><a href="../../math/signals-and-systems/mid.html"><strong aria-hidden="true">2.2.2.</strong> mid</a></li><li class="chapter-item "><a href="../../math/signals-and-systems/final.html"><strong aria-hidden="true">2.2.3.</strong> final</a></li></ol></li><li class="chapter-item "><a href="../../math/linear-algebra.html"><strong aria-hidden="true">2.3.</strong> linear algebra</a></li><li class="chapter-item "><a href="../../math/matrix-algebra.html"><strong aria-hidden="true">2.4.</strong> matrix algebra</a></li><li class="chapter-item "><a href="../../math/formal-language/formal-language.html"><strong aria-hidden="true">2.5.</strong> formal language</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../math/formal-language/formal-language.html"><strong aria-hidden="true">2.5.1.</strong> formal language</a></li><li class="chapter-item "><a href="../../math/formal-language/hw1.html"><strong aria-hidden="true">2.5.2.</strong> hw1</a></li></ol></li><li class="chapter-item "><a href="../../math/calculus.html"><strong aria-hidden="true">2.6.</strong> calculus</a></li></ol></li><li class="chapter-item expanded "><a href="../../computer-science/index.html"><strong aria-hidden="true">3.</strong> computer science</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../computer-science/data-science/data-science.html"><strong aria-hidden="true">3.1.</strong> data science</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../computer-science/data-science/data-science.html"><strong aria-hidden="true">3.1.1.</strong> data science</a></li><li class="chapter-item "><a href="../../computer-science/data-science/hw1.html"><strong aria-hidden="true">3.1.2.</strong> hw1</a></li><li class="chapter-item "><a href="../../computer-science/data-science/hw2.html"><strong aria-hidden="true">3.1.3.</strong> hw2</a></li><li class="chapter-item "><a href="../../computer-science/data-science/hw3.html"><strong aria-hidden="true">3.1.4.</strong> hw3</a></li></ol></li><li class="chapter-item "><a href="../../computer-science/database-systems/database-systems.html"><strong aria-hidden="true">3.2.</strong> database systems</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../computer-science/database-systems/database-systems.html"><strong aria-hidden="true">3.2.1.</strong> database systems</a></li><li class="chapter-item "><a href="../../computer-science/database-systems/hw1.html"><strong aria-hidden="true">3.2.2.</strong> hw1</a></li><li class="chapter-item "><a href="../../computer-science/database-systems/hw2.html"><strong aria-hidden="true">3.2.3.</strong> hw2</a></li><li class="chapter-item "><a href="../../computer-science/database-systems/hw3.html"><strong aria-hidden="true">3.2.4.</strong> hw3</a></li><li class="chapter-item "><a href="../../computer-science/database-systems/hw4.html"><strong aria-hidden="true">3.2.5.</strong> hw4</a></li></ol></li><li class="chapter-item "><a href="../../computer-science/computer-network/computer-network.html"><strong aria-hidden="true">3.3.</strong> computer networking</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../computer-science/computer-network/computer-network.html"><strong aria-hidden="true">3.3.1.</strong> computer networking</a></li><li class="chapter-item "><a href="../../computer-science/computer-network/hw1.html"><strong aria-hidden="true">3.3.2.</strong> hw1</a></li><li class="chapter-item "><a href="../../computer-science/computer-network/hw2.html"><strong aria-hidden="true">3.3.3.</strong> hw2</a></li><li class="chapter-item "><a href="../../computer-science/computer-network/hw4.html"><strong aria-hidden="true">3.3.4.</strong> hw4</a></li><li class="chapter-item "><a href="../../computer-science/computer-network/hw5.html"><strong aria-hidden="true">3.3.5.</strong> hw5</a></li><li class="chapter-item "><a href="../../computer-science/computer-network/hw6.html"><strong aria-hidden="true">3.3.6.</strong> hw6</a></li></ol></li><li class="chapter-item expanded "><a href="../../computer-science/operating-system/operating-system.html" class="active"><strong aria-hidden="true">3.4.</strong> operating system</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../computer-science/operating-system/operating-system.html" class="active"><strong aria-hidden="true">3.4.1.</strong> operating system</a></li><li class="chapter-item "><a href="../../computer-science/operating-system/hw1.html"><strong aria-hidden="true">3.4.2.</strong> hw1</a></li></ol></li><li class="chapter-item "><a href="../../computer-science/BitTorrent.html"><strong aria-hidden="true">3.5.</strong> BitTorrent</a></li><li class="chapter-item "><a href="../../computer-science/CSG.html"><strong aria-hidden="true">3.6.</strong> CSG(Constructive Solid Geometry) mesh boolean</a></li><li class="chapter-item "><a href="../../computer-science/leetcode.html"><strong aria-hidden="true">3.7.</strong> leetcode</a></li><li class="chapter-item "><a href="../../computer-science/nerf.html"><strong aria-hidden="true">3.8.</strong> nerf</a></li></ol></li><li class="chapter-item "><a href="../../tool/index.html"><strong aria-hidden="true">4.</strong> tool</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../tool/git.html"><strong aria-hidden="true">4.1.</strong> git</a></li><li class="chapter-item "><a href="../../tool/vim.html"><strong aria-hidden="true">4.2.</strong> vim</a></li><li class="chapter-item "><a href="../../tool/ffmpeg.html"><strong aria-hidden="true">4.3.</strong> ffmpeg</a></li><li class="chapter-item "><a href="../../tool/shortcut.html"><strong aria-hidden="true">4.4.</strong> shortcut</a></li><li class="chapter-item "><a href="../../tool/graphviz.html"><strong aria-hidden="true">4.5.</strong> graphviz</a></li><li class="chapter-item "><a href="../../tool/shields.io.html"><strong aria-hidden="true">4.6.</strong> shields.io</a></li><li class="chapter-item "><a href="../../tool/docker.html"><strong aria-hidden="true">4.7.</strong> docker</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents"
                            aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme"
                            aria-label="Change theme" aria-haspopup="true" aria-expanded="false"
                            aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="monokai">Monokai</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)"
                            aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S"
                            aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">something</h1>

                    <div class="right-buttons">
                        <a href="../../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/x06lan/mdbook" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..."
                            aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function (link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <div class="sidetoc">
                            <nav class="pagetoc"></nav>
                        </div>
                        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
<h1 id="operating-system"><a class="header" href="#operating-system">operating system</a></h1>
<p>tags: <code>software</code> <code>hardware</code> <code>system</code></p>
<h1 id="chapter-1-computer-system"><a class="header" href="#chapter-1-computer-system">Chapter 1: Computer System</a></h1>
<h2 id="structure"><a class="header" href="#structure">Structure</a></h2>
<p><img src="https://imgur.com/WIg4WHA.png" alt="" /></p>
<p>One or more CPUs, device controllers connect through
common bus providing access to shared memory</p>
<!-- ![](https://imgur.com/zrdncP6.png) -->
<p><img src="https://imgur.com/hFMTIBI.png" alt="" /></p>
<ul>
<li>Process Management
<ul>
<li>Creating and deleting both user and system processes</li>
<li>Suspending and resuming processes</li>
<li>Providing mechanisms for process synchronization</li>
<li>Providing mechanisms for process communication</li>
<li>Providing mechanisms for deadlock handlin</li>
</ul>
</li>
<li>Memory Management
<ul>
<li>Von Neumann architecture
<ul>
<li>To execute a program, all (or part) of the instructions must be in memory</li>
<li>All (or part) of the data that is needed by the program must be in memory</li>
</ul>
</li>
<li>Allocating and deallocating memory space as needed</li>
<li>Keeping track of which parts of memory are currently being used and by whom</li>
<li>Deciding which processes (or parts thereof) and data to move into and out of memory</li>
</ul>
</li>
<li>file system management
<ul>
<li>Abstracts physical properties to logical storage unit - file</li>
<li>Access control on most systems to determine who can access what</li>
</ul>
</li>
<li>Mass-Storage Management
<ul>
<li>mounting and unmounting</li>
<li>fire-space management</li>
<li>storage allocation</li>
<li>disk scheduling</li>
<li>partitioning</li>
<li>protection</li>
</ul>
</li>
<li>caching management
<ul>
<li>Faster storage (cache)</li>
<li>mportant principle, performed at many levels in a computer (in hardware, operating system, software)</li>
</ul>
</li>
<li>I/O Subsystem
<ul>
<li>buffering(storing data temporarily while it is being transferred)</li>
<li>caching(storing part of data in faster storage for performance)</li>
<li>spooling</li>
</ul>
</li>
</ul>
<h2 id="operation"><a class="header" href="#operation">operation</a></h2>
<ul>
<li>I/O is from the device to local buffer of controller</li>
<li>CPU moves data from/to main memory to/from local buffers</li>
<li><strong>Device controller informs CPU that it has finished its operation by causing an interrupt</strong></li>
</ul>
<h2 id="interrupt"><a class="header" href="#interrupt">interrupt</a></h2>
<ul>
<li>software-generated interrupt :execption</li>
<li>Modern OS is interrupt-driven</li>
<li>Interrupt architecture must save the address of the interrupted instruction</li>
</ul>
<h3 id="interrupt-handling"><a class="header" href="#interrupt-handling">Interrupt Handling</a></h3>
<ul>
<li>The OS preserves the state of the CPU by storing the registers and the program counter</li>
<li>type of interrupt
<ul>
<li>polling</li>
<li>vectored</li>
</ul>
</li>
</ul>
<p><img src="https://imgur.com/ey7PR4G.png" alt="" /></p>
<h2 id="io"><a class="header" href="#io">I/O</a></h2>
<h3 id="handling-io"><a class="header" href="#handling-io">handling I/O</a></h3>
<ul>
<li>
<p>Synchronous: After I/O starts, control returns to user program only upon I/O completion</p>
<ul>
<li>wait instruction idles the cpu until the next interrupt   `aCcf.v</li>
<li>wait loop</li>
</ul>
</li>
<li>
<p>Asynchronous: After I/O starts, control returns to user program without waiting for I/O completion</p>
<ul>
<li>system call:request to the OS to allow user to wait for I/O completion</li>
</ul>
</li>
</ul>
<h2 id="storage-structure"><a class="header" href="#storage-structure">storage structure</a></h2>
<ul>
<li>main memory 
<ul>
<li>cpu can access directly</li>
<li>Dynamic Random-access Memory (DRAM)</li>
<li>Typically volatile</li>
</ul>
</li>
<li>HDD</li>
<li>Non-volatile memory (NVM)</li>
</ul>
<p><img src="https://imgur.com/GHJAvzl.png" alt="" /></p>
<h2 id="direct-memory-accessdma"><a class="header" href="#direct-memory-accessdma">Direct Memory Access(DMA)</a></h2>
<p><img src="https://imgur.com/wWrbQVo.png" alt="" /></p>
<ul>
<li>Used for high-speed I/O devices able to transmit information at close to memory speeds</li>
<li>Device controller transfers blocks of data from buffer storage directly to main memory without CPU intervention</li>
<li>Only one interrupt is generated per block, rather than one interrupt per byte</li>
</ul>
<h2 id="symmetric-multiprocessing-architecture"><a class="header" href="#symmetric-multiprocessing-architecture">Symmetric Multiprocessing Architecture</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: center">Dual-Core Design</th><th style="text-align: center">Non-Uniform Memory Access System</th></tr></thead><tbody>
<tr><td style="text-align: center"><img src="https://imgur.com/1UF7oQL.png" alt="" /></td><td style="text-align: center"><img src="https://imgur.com/uu6dde5.png" alt="" /></td></tr>
</tbody></table>
</div>
<h2 id="virtualization"><a class="header" href="#virtualization">Virtualization</a></h2>
<p>have different kernel</p>
<p><img src="https://imgur.com/WWoDBRe.png" alt="" /></p>
<h2 id="cloud-computing"><a class="header" href="#cloud-computing">cloud computing</a></h2>
<p><img src="https://imgur.com/W1HegDq.png" alt="" /></p>
<ul>
<li>Software as a Service (SaaS) 
<ul>
<li>one or more applications available via the Internet (i.e., word processor)</li>
</ul>
</li>
<li>Platform as a Service (PaaS) 
<ul>
<li>software stack ready for application use via the Internet (i.e., a database server)</li>
</ul>
</li>
<li>Infrastructure as a Service (IaaS) 
<ul>
<li>servers or storage available over Internet (i.e., storage available for backup use)</li>
</ul>
</li>
</ul>
<h2 id="kernel-data-structures"><a class="header" href="#kernel-data-structures">Kernel Data Structures</a></h2>
<p><img src="https://imgur.com/nSTFnOf.png" alt="" /></p>
<h1 id="chapter-2-operating-system-service"><a class="header" href="#chapter-2-operating-system-service">Chapter 2: Operating-System Service</a></h1>
<h2 id="system-calls"><a class="header" href="#system-calls">System Calls</a></h2>
<ul>
<li>Programming interface to the services provided by the OS</li>
<li>Typically written in a high-level language (C or C++)</li>
<li>Mostly accessed by programs via a high-level Application Programming Interface (API) rather than direct system call</li>
<li>System Call Parameter Passing
<ul>
<li>pushed, onto the stack by the program and popped off the stack by the OS
<img src="https://imgur.com/SmCvYm2.png" alt="" /></li>
</ul>
</li>
</ul>
<!-- ![](https://imgur.com/oKiVXUc.png) -->
<h3 id="types-of-system-calls"><a class="header" href="#types-of-system-calls">Types of System Calls</a></h3>
<ul>
<li>Process control
<ul>
<li>create process, terminate process</li>
<li>end, abort</li>
<li>load, execute</li>
<li>get process attributes, set process attributes</li>
<li>wait for time</li>
<li>wait event, signal event</li>
<li>allocate and free memory</li>
<li>Dump memory if error</li>
<li>Debugger for determining bugs, single step execution</li>
<li>Locks for managing access to shared data between</li>
</ul>
</li>
<li>File management
<ul>
<li>create file, delete file</li>
<li>open, close file</li>
<li>read, write, reposition</li>
<li>get and set file attributes</li>
</ul>
</li>
<li>Device management
<ul>
<li>request device, release device</li>
<li>read, write, reposition</li>
<li>get device attributes, set device attributes</li>
<li>logically attach or detach devices processes</li>
</ul>
</li>
<li>Information maintenance
<ul>
<li>get time or date, set time or date</li>
<li>get system data, set system data</li>
<li>get and set process, file, or device attributes</li>
</ul>
</li>
<li>Communications
<ul>
<li>create, delete communication connection</li>
<li>send, receive messages if message passing model to host name or process name
<ul>
<li>From client to server</li>
</ul>
</li>
<li>Shared-memory model create and gain access to memory regions</li>
<li>transfer status information</li>
<li>attach and detach remote devices</li>
</ul>
</li>
</ul>
<p><img src="https://imgur.com/WYG0IUC.png" alt="" /></p>
<h2 id="program-stack"><a class="header" href="#program-stack">program stack</a></h2>
<p><img src="https://imgur.com/bNDtDUq.png" alt="" /></p>
<h2 id="linker-and-loader"><a class="header" href="#linker-and-loader">Linker and Loader</a></h2>
<ul>
<li>Source code compiled into object files designed to be loaded into
any physical memory location – relocatable object file</li>
<li>Linker combines these into single binary executable file
<ul>
<li>Also brings in libraries</li>
</ul>
</li>
<li>Modern general purpose systems don’t link libraries into executables
<ul>
<li>Rather, dynamically linked libraries (in Windows, <strong>DLLs</strong>) are loaded as needed, shared by all that use the same version of that same library (loaded once</li>
</ul>
</li>
</ul>
<p><img src="https://imgur.com/5J9qm6P.png" alt="" /></p>
<h2 id="operating-system-structure"><a class="header" href="#operating-system-structure">Operating System Structure</a></h2>
<ul>
<li>Simple structure </li>
<li>Monolithic Structure More</li>
<li>Microkernel</li>
<li>Layered</li>
<li>Hybrid</li>
</ul>
<h3 id="traditional-unix-system-structure"><a class="header" href="#traditional-unix-system-structure">Traditional UNIX System Structure</a></h3>
<ul>
<li>UNIX: 
<ul>
<li>limited by hardware functionality, the original UNIX OS had limited structuring</li>
<li>Consists of everything below the system-call interface and above the physical hardware</li>
<li>Provides the file system, CPU scheduling, memory management, and other OS functions; a large number of functions for one level</li>
</ul>
</li>
</ul>
<p><img src="https://imgur.com/DphRDJr.png" alt="" /></p>
<h3 id="linux-system-structure"><a class="header" href="#linux-system-structure">Linux System Structure</a></h3>
<p>Monolithic plus modular design</p>
<p><img src="https://imgur.com/oJfeysX.png" alt="" /></p>
<h3 id="microkernels"><a class="header" href="#microkernels">Microkernels</a></h3>
<ul>
<li>Moves as much from the kernel into user space</li>
<li>Mach is an example of microkernel
<ul>
<li>Mac OS X kernel (Darwin) partly based on Mach</li>
</ul>
</li>
<li>Benefits:
<ul>
<li>Easier to extend a microkernel</li>
<li>Easier to port the OS to new architectures</li>
<li>More reliable (less code is running in kernel mode)</li>
<li>More secure</li>
</ul>
</li>
<li>Detriments:
<ul>
<li>Performance overhead of user space to kernel space communication</li>
</ul>
</li>
</ul>
<p><img src="https://imgur.com/01n47EV.png" alt="" /></p>
<h3 id="layered-approach"><a class="header" href="#layered-approach">Layered Approach</a></h3>
<ul>
<li>The OS is divided into a number of layers (levels), each built on top of lower layers
<ul>
<li>The bottom layer (layer 0), is the hardware</li>
<li>the highest (layer N) is the user interface</li>
</ul>
</li>
<li>With modularity, layers are selected such that each uses functions (operations) and services of only lower- level layers</li>
</ul>
<h3 id="hybrid-systems"><a class="header" href="#hybrid-systems">hybrid systems</a></h3>
<ul>
<li>Apple Mac OS X hybrid, layered, Aqua UI plus Cocoa programming environment</li>
</ul>
<div class="table-wrapper"><table><thead><tr><th>macOS iOS</th><th>darwin</th><th>android</th></tr></thead><tbody>
<tr><td><img src="https://imgur.com/gfCqyE7.png" alt="" /></td><td><img src="https://imgur.com/aK4VIQE.png" alt="" /></td><td><img src="https://imgur.com/On7lNGE.png" alt="" /></td></tr>
</tbody></table>
</div>
<h2 id="system-boot"><a class="header" href="#system-boot">System Boot</a></h2>
<ul>
<li>When power initialized on system, execution starts at a fixed memory location</li>
<li>Small piece of code 
<ul>
<li>bootstrap loader, BIOS, stored in ROM or EEPROM locates the kernel, loads it into memory, and starts it</li>
</ul>
</li>
<li>Modern systems replace BIOS with Unified Extensible Firmware Interface (UEFI)</li>
<li>Common bootstrap loader, GRUB</li>
</ul>
<h2 id="tracing"><a class="header" href="#tracing">tracing</a></h2>
<ul>
<li>strace – trace system calls invoked by a process</li>
<li>gdb – source-level debugger</li>
<li>perf – collection of Linux performance tools</li>
<li>tcpdump – collects network packets</li>
</ul>
<p><img src="https://imgur.com/tKHNWWx.png" alt="" /></p>
<h1 id="chapter-3-processes"><a class="header" href="#chapter-3-processes">Chapter 3: Processes</a></h1>
<ul>
<li>The program code, also called text section</li>
<li>Current activity including program counter, processor registers</li>
<li>Stack containing temporary data
<ul>
<li>Function parameters, return addresses, local variables</li>
</ul>
</li>
<li>Data section containing global variables</li>
<li>Heap containing memory dynamically allocated during run time
<img src="https://imgur.com/htrhvZO.png" alt="" /></li>
</ul>
<h2 id="process-state"><a class="header" href="#process-state">process state</a></h2>
<ul>
<li>new </li>
<li>running</li>
<li>waiting</li>
<li>ready:the process is waiting to be assigned to a processor</li>
<li>terminated</li>
</ul>
<p><img src="https://imgur.com/J2M646J.png" alt="" /></p>
<h2 id="process-scheduling"><a class="header" href="#process-scheduling">Process Scheduling</a></h2>
<h3 id="process-control-block-pcb-or-task-control-block"><a class="header" href="#process-control-block-pcb-or-task-control-block">Process Control Block (PCB) or task control block)</a></h3>
<p><img src="https://imgur.com/cykBgGg.png" alt="" /></p>
<h3 id="scheduling"><a class="header" href="#scheduling">scheduling</a></h3>
<ul>
<li>Goal – Maximize CPU use, quickly switch</li>
<li>processes onto CPU core
<ul>
<li>Maintains scheduling queues of processes</li>
<li>ready queue</li>
<li>wait queue</li>
</ul>
</li>
</ul>
<p><img src="https://imgur.com/g4kYgaz.png" alt="" /></p>
<h3 id="context-switch"><a class="header" href="#context-switch">context switch</a></h3>
<ul>
<li>context-switch time is pure overhead; the system does no useful work while switching
<ul>
<li>The more complex the OS and the PCB  the longer the context switch</li>
</ul>
</li>
<li>Time dependent on hardware support
<ul>
<li>Some hardware provides multiple sets of registers per CPU  multiple contexts loaded at once</li>
</ul>
</li>
</ul>
<p><img src="https://imgur.com/9YIOLxF.png" alt="" /></p>
<h2 id="operations-on-processes"><a class="header" href="#operations-on-processes">Operations on Processes</a></h2>
<p><img src="https://imgur.com/sRSoQ3J.png" alt="" /></p>
<h2 id="inter-process-communicationipc"><a class="header" href="#inter-process-communicationipc">Inter Process Communication(IPC)</a></h2>
<ul>
<li>shared memory</li>
<li>message passing</li>
</ul>
<h3 id="ipc-in-shared-memory-systems"><a class="header" href="#ipc-in-shared-memory-systems">IPC in Shared-Memory Systems</a></h3>
<ul>
<li>An area of memory shared among the processes that wish to communicate</li>
<li>The communication is under the control of the user processes not the OS</li>
</ul>
<h3 id="ipc-in-message-passing-systems"><a class="header" href="#ipc-in-message-passing-systems">IPC in Message-Passing Systems</a></h3>
<ul>
<li>Blocking is considered synchronous</li>
<li>Non-blocking is considered asynchronous</li>
</ul>
<h4 id="ordinary-pipes"><a class="header" href="#ordinary-pipes">Ordinary pipes</a></h4>
<ul>
<li>unidirectional(single direction)</li>
<li>cannot be accessed from outside the process that created it. 
<ul>
<li>Typically, a parent process creates a pipe and uses it to communicate with a child process that it created</li>
</ul>
</li>
</ul>
<h4 id="named-pipes"><a class="header" href="#named-pipes">named pipes</a></h4>
<ul>
<li>Communication is bidirectional</li>
<li>No parent-child relationship is necessary between the communicating processes</li>
</ul>
<h3 id="client-server-systems"><a class="header" href="#client-server-systems">Client-Server Systems</a></h3>
<div class="table-wrapper"><table><thead><tr><th>sockets</th><th>Remote Procedure Calls (RPC)</th></tr></thead><tbody>
<tr><td><img src="https://imgur.com/XZ4RMYg.png" alt="" /></td><td><img src="https://imgur.com/3ROwbAf.png" alt="" /></td></tr>
</tbody></table>
</div>
                        <!-- github commet -->
                        <dir id="giscus"></dir>
                        <script>
                            var localAddrs = ["localhost", "127.0.0.1", ""];

                            if (localAddrs.indexOf(document.location.hostname) === -1) {
                                var giscusScript = document.createElement('script');
                                giscusScript.src = "https://giscus.app/client.js";
                                giscusScript.setAttribute('data-repo', 'x06lan/mdbook');
                                giscusScript.setAttribute('data-repo-id', 'R_kgDOJxZ6mQ');
                                giscusScript.setAttribute('data-category-id', 'DIC_kwDOJxZ6mc4CXeJ6');
                                giscusScript.setAttribute('data-mapping', 'pathname');
                                giscusScript.setAttribute('data-strict', '0');
                                giscusScript.setAttribute('data-reactions-enabled', '1');
                                giscusScript.setAttribute('data-emit-metadata', '0');
                                giscusScript.setAttribute('data-input-position', 'bottom');
                                giscusScript.setAttribute('data-theme', 'preferred_color_scheme');
                                giscusScript.setAttribute('data-lang', 'zh-TW');
                                giscusScript.setAttribute('crossorigin', 'anonymous');
                                giscusScript.async = true;
                                let giscusDiv = document.getElementById('giscus');
                                giscusDiv.appendChild(giscusScript);
                            }
                        </script>
                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>

        <script src="../../ace.js"></script>
        <script src="../../editor.js"></script>
        <script src="../../mode-rust.js"></script>
        <script src="../../theme-dawn.js"></script>
        <script src="../../theme-tomorrow_night.js"></script>

        <script src="../../elasticlunr.min.js"></script>
        <script src="../../mark.min.js"></script>
        <script src="../../searcher.js"></script>

        <script src="../../clipboard.min.js"></script>
        <script src="../../highlight.js"></script>
        <script src="../../book.js"></script>

        <!-- Custom JS scripts -->
        <script src="../../theme/pagetoc.js"></script>
        <script src="../../mermaid.min.js"></script>
        <script src="../../mermaid-init.js"></script>


    </div>
</body>

</html>
